#0 0. Upewnij się że masz ustawione adresy DNS

sudo nano /etc/systemd/resolved.conf

[Resolve]
DNS=1.1.1.1 8.8.8.8
FallBackDNS=1.0.0.1 8.4.4.8

#1 Atkualizacja systemu:

sudo apt update && sudo apt upgrade -y

#2 Instalacja podstawowych narzędzi (jeśli brakuje)

sudo apt install curl wget gnupg apt-transport-https -y

#3 Pobierz skrypt Wazuh 4.13 (na dzień 07.10.2025r. najnowsza)

sudo curl -sO https://packages.wazuh.com/4.13/wazuh-install.sh

#4 Nadaj prawa do wykonania

sudo chmod 755 wazuh-install.sh

#5 Sprawdź, czy plik jest skryptem powłoki (powinien się zacząć od #!)

sudo head wazuh-install.sh

#6 Uruchom asystenta instalacji. Proces może potrwać 10-20 minut.

sudo bash ./wazuh-install.sh -a

#7 Po zakończeniu instalacji skrypt wyświetli podsumowanie zawierające dane do logowania. MUSISZ ZAPISAĆ TO HASŁO


#8 Konfiguracja zapory sieciowej (Firewall UFW)

* Włączenie UFW (jeśli nie jest aktywne)
sudo ufw --force enable

* Porty do komunikacji z Agentami (Wazuh Manager)
sudo ufw allow 1514/tcp    # Rejestracja agenta
sudo ufw allow 55000/tcp   # Kontrola agenta / Domyślny port agenta
sudo ufw allow 1515/tcp    # Domyślny port dla komunikacji agent-manager (połączenia kontrolne)

* Porty dla Indexer i Dashboard
sudo ufw allow 9200/tcp    # Wazuh Indexer (komunikacja wewnętrzna, warto ograniczyć do 127.0.0.1)
sudo ufw allow 443/tcp     # Wazuh Dashboard (HTTPS - Domyślny port)
sudo ufw allow OpenSSH     # Zezwól na SSH

* Weryfikacja
sudo ufw status


#9 Weryfikacja działania i dostęp

systemctl status wazuh-indexer
systemctl status wazuh-manager
systemctl status wazuh-dashboard
systemctl status filebeat # Upewnij się, że Filebeat działa, przesyła logi do Indexera

#10 Dostęp do Panelu Webowego

Otwórz przeglądarkę i wpisz adres serwera

GOTOWE ! :D
